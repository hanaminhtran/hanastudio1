(this.webpackJsonphanastudio1=this.webpackJsonphanastudio1||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(14),o=n.n(i),r=(n(43),n(11)),l=n(35),s=n(38),h=n(37),d=(n(44),n(15)),j=n(20),u=n(6),b=n(21),f=n.n(b),p=n(3),O=function e(){Object(r.a)(this,e),this.fullname="",this.birthday="",this.phone="",this.identification="",this.address="",this.healthInsuranceNumber="",this.vaccineName="",this.vaccineDay=void 0,this.vaccinePlace="",this.qrCode=""};var m=n(36),v=n.n(m),x={container:{width:600,height:600,margin:"50px auto",backgroundColor:"orange",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontWeight:"bold"},containerResult:{width:600,height:600,margin:"50px auto",backgroundColor:"green",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontWeight:"bold"}};function g(e){return Date.parse(e)/1e3}function y(e){e.fullname,e.birthday,e.phone;var t=Object(a.useState)(new O),n=Object(u.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(!1),r=Object(u.a)(o,2),l=r[0],s=r[1],h=Object(a.useState)(!1),b=Object(u.a)(h,2),m=b[0],y=b[1],I=Object(a.useState)("You have no information in the vaccination database!"),C=Object(u.a)(I,2),N=C[0],D=C[1],P=Object(a.useState)(!0),w=Object(u.a)(P,2),S=w[0],_=w[1],k=Object(a.useState)(new Date),F=Object(u.a)(k,2),M=F[0],B=F[1],T=Object(a.useState)({_fullname:"",_birthDay:"",_phone:""}),Y=Object(u.a)(T,2),q=Y[0],A=Y[1],R=function(e){var t=e.target,n=t.name,a=t.value;A(Object(j.a)(Object(j.a)({},q),{},Object(d.a)({},n,a)))};return Object(p.jsxs)("div",{style:{justifyContent:"left",alignItems:"left"},children:[S?Object(p.jsxs)("div",{style:x.container,children:[Object(p.jsx)("h2",{children:" Input info to check your vaccination: "}),Object(p.jsxs)("form",{children:[Object(p.jsx)("p",{children:Object(p.jsxs)("label",{children:[" Name:  ",Object(p.jsx)("input",{name:"_fullname",type:"text",value:q._fullname,onChange:R})," "]})}),Object(p.jsx)("p",{children:Object(p.jsxs)("label",{children:["  Birthday:  ",Object(p.jsx)(v.a,{format:"dd-MM-y",onChange:B,value:M})]})}),Object(p.jsx)("p",{children:Object(p.jsxs)("label",{children:[" Phone:  ",Object(p.jsx)("input",{name:"_phone",type:"text",value:q._phone,onChange:R})," "]})}),Object(p.jsx)("p",{children:Object(p.jsx)("input",{type:"submit",value:"Check",onClick:function(e){y(!1),s(!1),e.preventDefault();var t=function(e,t,n){return f.a.get("".concat("/api/vaccination/public/otp-search?fullname=").concat(e,"&birthday=").concat(t,"000&genderId=1&personalPhoneNumber=").concat(n,"&identification=&healthInsuranceNumber"))}(q._fullname,g(M.toString()),q._phone);t.then((function(e){var t=prompt("Please enter OTP send to your phone","");null!=t&&function(e,t,n,a){return f.a.get("".concat("/api/vaccination/public/patient-vaccinated?fullname=").concat(e,"&birthday=").concat(t,"000&genderId=1&personalPhoneNumber=").concat(n,"&identification=&healthInsuranceNumber=&otp=").concat(a))}(q._fullname,g(M.toString()),q._phone,t).then((function(e){var t=new O,n=new Date(e.data.patientInfo.vaccinatedInfoes[0].injectionDate),a=new Date(e.data.patientInfo.birthday);t.fullname=e.data.patientInfo.fullname,t.birthday=a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear(),t.phone=e.data.patientInfo.personalPhoneNumber,t.identification=e.data.patientInfo.identification,t.address="".concat(e.data.patientInfo.ward,", ").concat(e.data.patientInfo.district,",").concat(e.data.patientInfo.province),t.healthInsuranceNumber=e.data.patientInfo.healthInsuranceNumber,t.vaccineDay=n.getDate()+"/"+(n.getMonth()+1)+"/"+n.getFullYear(),t.vaccineName=e.data.patientInfo.vaccinatedInfoes[0].vaccineName,t.vaccinePlace=e.data.patientInfo.vaccinatedInfoes[0].injectionPlace,t.qrCode=e.data.patientInfo.vaccinatedInfoes[0].qrCode,_(!1),y(!1),i(t),s(!0),console.log(e)}),(function(e){y(!0),s(!1),D("Invalid OTP code!"),console.error(e)}))}),(function(e){y(!0),s(!1),D("You have no information in the vaccination database!"),console.error(e)}))}})})]})]}):null,l?Object(p.jsxs)("div",{style:x.containerResult,children:[Object(p.jsx)("h1",{style:{color:"green"},children:"You injection information:"}),Object(p.jsxs)("p",{children:["Name :",Object(p.jsx)("b",{children:c.fullname})," "]}),Object(p.jsxs)("p",{children:["Birthday :",Object(p.jsxs)("b",{children:[c.birthday," "]})]}),Object(p.jsxs)("p",{children:["Id card :",Object(p.jsxs)("b",{children:[" ",c.identification]})," "]}),Object(p.jsxs)("p",{children:["Phone : ",Object(p.jsx)("b",{children:c.phone})," "]}),Object(p.jsxs)("p",{children:["Injection day :",Object(p.jsxs)("b",{children:[" ",c.vaccineDay]})]}),Object(p.jsxs)("p",{children:["Injection place :",Object(p.jsxs)("b",{children:[" ",c.vaccinePlace]})]}),Object(p.jsxs)("p",{children:["Vaccine name : ",Object(p.jsx)("b",{children:c.vaccineName})]}),Object(p.jsx)("button",{onClick:function(e){_(!0),y(!1),s(!1)},children:"Back "})]}):null,m?Object(p.jsx)("div",{children:Object(p.jsx)("h1",{style:{color:"red"},children:N})}):null]})}var I=function(e){Object(s.a)(n,e);var t=Object(h.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(y,{fullname:"TRAN QUANG MINH",birthday:new Date("1980-09-08"),phone:"0919323236"})})}}]),n}(c.a.Component),C=I,N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(C,{})}),document.getElementById("root")),N()}},[[89,1,2]]]);
//# sourceMappingURL=main.41b66006.chunk.js.map